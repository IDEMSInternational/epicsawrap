% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/get_rain_counts.R
\name{get_rain_counts}
\alias{get_rain_counts}
\title{Extract Rainfall Threshold and Comparison Operator}
\usage{
get_rain_counts(
  definitions_in_raw = NULL,
  rainfall_column = "extreme_rain",
  list_name = NULL
)
}
\arguments{
\item{definitions_in_raw}{A named list containing raw metadata definitions, typically
generated by \code{get_r_instat_definitions()} on the unaggregated data.}

\item{rainfall_column}{The name of the variable in \code{definitions_in_raw} that contains the
rain condition (e.g., \code{"extreme_rain"} or \code{"count"}).}

\item{list_name}{Optional. If provided, the result will be nested in a named list with this key
(e.g., \code{list(extreme_rain = list(...))}). If \code{NULL} (default), returns a flat list with
elements \code{sign} and \code{threshold}.}
}
\value{
A list containing:
\describe{
\item{sign}{The extracted comparison operator (e.g., \code{>=}, \code{<}, \code{==}).}
\item{threshold}{The extracted numeric threshold as a character string (e.g., \code{"40"} or \code{"-12.5"}).}
}
If \code{list_name} is supplied, the result is nested inside a named list.
If the required structure or value is missing, both elements default to \code{NA}.
}
\description{
This function parses a rainfall condition string of the form \code{"(rainfall >= 40)"}
to extract both the comparison operator (e.g., \code{>=}) and the threshold value (e.g., \code{40}).
It is used to identify how rain days or extreme rainfall conditions are defined
in the metadata generated by R-Instat.
}
\examples{
defs <- list(extreme_rain = list(rain_day = list(NULL, "(rainfall >= 40)")))

# Returns: list(sign = ">=", threshold = "40")
get_rain_counts(defs, "extreme_rain")

# Returns: list(extreme_rain = list(sign = ">=", threshold = "40"))
get_rain_counts(defs, "extreme_rain", "extreme_rain")

}
